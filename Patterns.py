from malware import *
def ReadPatterns(path):
    malwares = {}
    with open(path, 'r') as f:
        for line in f:
            temp = line.strip().split(',')
            if temp[0] in malwares:
                Mymal = malwares[temp[0]]
            else:
                Mymal = malware(number=int(temp[1]),id=temp[0])


            Mymal.add_pattern(temp[2])
            Mymal.change_number(number=int(temp[1]))
            malwares[temp[0]] = Mymal
    
    return malwares

#--------------------------------------------------------------------
def WritePatterns(path,string):
    with open(path,'a') as f:
        f.write(f"{string}\n")
#--------------------------------------------------------------------
def CreateLine(NumberMalware,NumberChar,Pattern):
    return f"{NumberMalware},{NumberChar},{Pattern}"
#--------------------------------------------------------------------
# pattern  = ('6107541225663A4125663A4125663A4191FACB4137663A4191FAC94187663A4191FAC8413A663A41770E39403C663A41770E3F4051663A41770E3E4007663A41F899F14126663A4125663B41A1663A414C0E3F4026663A414C0E3A4024663A414C0EC54124663A414C0E38402466')
path = "PatternsBank.txt"
# WritePatterns("PatternsBank.txt",CreateLine(1,"pattern"))

# print(ReadPatterns(path))